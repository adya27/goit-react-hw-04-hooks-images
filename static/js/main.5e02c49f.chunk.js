(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{16:function(e,t,c){},17:function(e,t,c){},18:function(e,t,c){},41:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),o=c.n(a),r=c(3),i=c.n(r),s=(c(16),c(9)),u=c(4),l=(c(17),c(18),c(10)),b=c.n(l),j=c(8);c(40);var m=function(e){var t=e.onSubmit,c=Object(a.useState)(""),o=Object(u.a)(c,2),r=o[0],i=o[1];return Object(n.jsx)("header",{className:"Searchbar",children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(r)},className:"SearchForm",children:[Object(n.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(n.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(n.jsx)("input",{name:"search",onChange:function(e){var t=e.currentTarget.value;i(t)},value:r,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})};var d=function(e){var t=e.onClick,c=e.webformatURL,a=e.largeImageURL;return Object(n.jsx)("li",{className:"ImageGalleryItem",children:Object(n.jsx)("img",{onClick:function(e){t(e.currentTarget.dataset.largesrc)},"data-largesrc":a,src:c,alt:"",className:"ImageGalleryItem-image"})})};var f=function(e){var t=e.onClick,c=e.match,a=function(e){t(e)};return Object(n.jsx)("ul",{className:"ImageGallery",children:c.map((function(e){return Object(n.jsx)(d,{webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,onClick:a},e.id)}))})},h=document.querySelector("#modal-root");var g=function(e){Object(a.useEffect)((function(){return window.addEventListener("keydown",t),document.body.style.overflow="hidden",document.body.style.position="fixed",function(){window.removeEventListener("keydown",t),document.body.style.overflow="auto",document.body.style.position="static"}}),[]);var t=function(t){var c=e.closeModal;"Escape"===t.code&&c()},c=e.largeImageURL;return Object(r.createPortal)(Object(n.jsx)("div",{onClick:function(t){var c=e.closeModal;t.target===t.currentTarget&&c()},className:"Overlay",children:Object(n.jsx)("div",{className:"Modal",children:Object(n.jsx)("img",{src:c,alt:""})})}),h)};var O=function(e){var t=e.loadMore;return Object(n.jsx)("button",{onClick:t,className:"Button",type:"button",children:"Load more"})};var p=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),c=t[0],o=t[1],r=Object(a.useState)(!1),i=Object(u.a)(r,2),l=i[0],d=i[1],h=Object(a.useState)(""),p=Object(u.a)(h,2),v=p[0],x=p[1],y=Object(a.useState)(1),S=Object(u.a)(y,2),w=S[0],k=S[1],L=Object(a.useState)(""),C=Object(u.a)(L,2),F=C[0],I=C[1],N=Object(a.useState)("idle"),E=Object(u.a)(N,2),R=E[0],U=E[1];Object(a.useEffect)((function(){""!==F&&(fetch("https://pixabay.com/api/?key=17537629-2ee3a1e1cfb1c48a1e1039472&q=".concat(F,"&image_type=photo&pretty=true&page=").concat(w,"&per_page=12")).then((function(e){return e.json()})).then((function(e){return 0===e.total&&(U("rejected"),M()),e})).then((function(e){o([].concat(Object(s.a)(c),Object(s.a)(e.hits)))})),U("idle"))}),[F,w]),Object(a.useEffect)((function(){1!==w&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[c]);var M=function(){return j.b.error("Sorry, no matches :(")},T=function(){d(!l)};return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(m,{onSubmit:function(e,t){U("pending"),I(e),k(1),o([])}}),Object(n.jsx)(j.a,{}),Object(n.jsx)(f,{onClick:function(e){x(e),T()},match:c}),"pending"===R&&Object(n.jsx)(b.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3}),l&&Object(n.jsx)(g,{closeModal:T,largeImageURL:v}),c.length%12===0&&0!==c.length&&"pending"!==R&&Object(n.jsx)(O,{loadMore:function(){k(w+1)}})]})},v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,44)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),o(e),r(e)}))};i.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(p,{})}),document.getElementById("root")),v()}},[[41,1,2]]]);
//# sourceMappingURL=main.5e02c49f.chunk.js.map